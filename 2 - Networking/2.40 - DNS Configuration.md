---
Company: CompTIA
Course: A+
Teacher: Professor Messer
Exam Code: 220-1201
Difficulty: Easy
Topic: DNS Configuration
URL: https://www.youtube.com/watch?v=lAHqO9sDVy4&list=PLG49S3nxzAnnes8ZGI-OBlKEukHCX46N8&index=11
---
## [[2.11 - Common Ports#DNS - Domain Name System|DNS]] Configuration

#### Domain Name System (DNS)

1. **Purpose:** Translates human-readable domain names into computer-readable [[2.10 - Introduction to IP#IP - Internet Protocol|IP]] addresses.
    
    - Example: `www.google.com` → `142.250.190.68` (the IP address devices use to communicate).
2. **Hierarchical Structure:** DNS is organized in levels:
    - **Root** → **Top-Level Domain (TLD)** → **Second-Level Domain** → **Subdomain/Host**
3. **Distributed Database:**
    - DNS queries are handled by multiple servers worldwide.
    - **13 logical root server clusters** exist, each consisting of multiple physical servers.
    - Hundreds of generic TLDs: `.com`, `.org`, `.net`, `.edu`, etc.
    - Over 275 country-code TLDs: `.us`, `.ca`, `.uk`, `.gr`, etc.
---
#### DNS Hierarchy Diagram
```
        .
        |
  ----------------------------
  |        |       |         |
 .com     .net    .edu      .org
  |
 google.com
  |
  ---------------------
  |        |          |
 www      mail       imghp

```
- **Root (`.`):** Top of the hierarchy.
- **TLDs:** Generic (.com, .org) or country-specific (.uk, .gr).
- **Second-Level Domain:** Domain owned/registered (e.g., `google` in `google.com`).
- **Subdomain / Host:** Specific services or hosts (e.g., `www`, `mail`, `imghp`).
---
#### DNS Lookup
- **dig** command (macOS, Linux, some Windows versions via BIND utilities or WSL)
    - Example: `dig www.example.com`
- **nslookup** (Windows built-in)
    - Provides basic DNS query information but fewer options than `dig`.
    - Example: `nslookup www.example.com`
---
#### DNS Records

1. **Resource Records:** Entries in the DNS database.
2. Over 30 record types exist: [[2.10 - Introduction to IP|IP]] addresses, aliases, certificates, etc.
3. These are <span style="color:red">critical</span> DNS configurations; always test and backup settings.
---
#### Address Records (A / AAAA)

- Defines the IP address of a host.
- **A records:** IPv4 addresses. Example: `www.example.com → 192.0.2.1`
- **AAAA records:** IPv6 addresses. Example: `www.example.com → 2001:db8::1`
---
#### Canonical Name Records (CNAME)

- Provides an alias for another canonical name.
- One physical server can serve multiple hostnames.
- Example:
```
; Alias (canonical) names
chat    IN CNAME    www.example.com
ftp     IN CNAME    www.example.com
www     IN CNAME    www.example.com
```
- Advantage: Changing the canonical record automatically updates all aliases.
---
#### Mail Exchange Records (MX)

- Specifies the mail server hostname for a domain (not an IP address).
- Example:
```
example.com     IN    MX    10 mail.example.com
mail.example.com IN    A     54.34.23.234
```
- Ensures emails can be sent to and from the domain properly.
---
#### Text Records (TXT)

- Store human-readable text or machine-verified information.
- Useful for verification, authentication, and security.
- Example:
```
dig www.example.com txt
nslookup -type=txt www.example.com
```
---
#### Email Security Records

**1. DomainKeys Identified Mail (DKIM)**
- Digitally signs outgoing mail from a domain.
- Validated by receiving mail servers.
- The public key is stored in a DKIM TXT record.

**2. Sender Policy Framework (SPF)**
- Lists authorized servers allowed to send emails for the domain.
- Prevents spoofing.
- Example:
```
example.com    300    IN    TXT    "v=spf1 include:maingun.org ~all"
```
**3. Domain-based Message Authentication, Reporting, and Conformance (DMARC)**
- Builds on SPF and DKIM.
- Specifies policy for emails that fail SPF or DKIM checks: accept, mark as spam, or reject.
- Allows reporting to the domain administrator.
- Example:
